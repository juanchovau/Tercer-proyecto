(this["webpackJsonptercer-proyecto"]=this["webpackJsonptercer-proyecto"]||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/coin.729eef12.svg"},31:function(e,t,a){e.exports=a.p+"static/media/header.68402e78.png"},32:function(e,t,a){e.exports=a.p+"static/media/energy.b11a1520.svg"},33:function(e,t,a){e.exports=a.p+"static/media/perfil.d37b020e.jpg"},35:function(e,t,a){e.exports=a(60)},40:function(e,t,a){},41:function(e,t,a){},46:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),i=a.n(r),c=(a(40),a(41),a(16)),s=a(1),l=a(18),u=a(6),p=a(7),m=a(8),d=a(9),f=a(4),g=function(){return function(e){fetch("https://coding-challenge-api.aerolab.co/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjU1NjcxMDc0MjM1MjAwMWVkOTA5YTIiLCJpYXQiOjE1OTk0MzI0NjR9.yWntNtnRp4RYIy4HQ1zJ0f2enNVJSq2syLYPazrOH2s"}}).then((function(e){return e.json()})).then((function(t){e({type:"TRAER_USUARIO",payload:t})}))}},h=function(){return function(e){fetch("https://coding-challenge-api.aerolab.co/products",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjU1NjcxMDc0MjM1MjAwMWVkOTA5YTIiLCJpYXQiOjE1OTk0MzI0NjR9.yWntNtnRp4RYIy4HQ1zJ0f2enNVJSq2syLYPazrOH2s"}}).then((function(e){return e.json()})).then((function(t){e({type:"TRAER_PRODUCTOS",payload:t})}))}},E=(a(46),a(10)),v=a.n(E),b=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).redimir=function(t){e.props.redimirProducto(t)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.cost,r=t.category,i=t.img,c=t.id,s=t.puntosDisponibles,l=t.historia;return o.a.createElement("div",{className:"CardProducto__contenedor"},o.a.createElement("img",{className:"CardProducto__contenedor--img",src:i,alt:"imagen de ".concat(a)}),o.a.createElement("div",{className:"CardProducto__contenedor--texto"},o.a.createElement("div",{className:"CardProducto__contenedor--nombre"},o.a.createElement("p",null,a),o.a.createElement("p",null,r)),o.a.createElement("p",{className:"CardProducto__contenedor--puntos"},o.a.createElement("img",{src:v.a,alt:"moneda"})," ",n)),o.a.createElement("div",null,s-n<0&&!1===l?o.a.createElement("p",{className:"CardProducto__contenedor--textoRedimir"},"Te faltan ".concat(-1*(s-n)," puntos")):!1===l?o.a.createElement("button",{className:"CardProducto__contenedor--bottonRedimir",onClick:function(){e.redimir(c)}},"Redimir"):""))}}]),a}(n.Component),y={redimirProducto:function(e){return function(t){fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjU1NjcxMDc0MjM1MjAwMWVkOTA5YTIiLCJpYXQiOjE1OTk0MzI0NjR9.yWntNtnRp4RYIy4HQ1zJ0f2enNVJSq2syLYPazrOH2s",Accept:"application/json"},body:JSON.stringify({productId:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),t({type:"REDIMIR_PRODUCTO",payload:e.error?"error":"success"})}))}}},O=Object(f.b)((function(e){return{state:e}}),y)(b),I=a(11),N=a.n(I),j=a(31),P=a.n(j);function _(){return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}},o.a.createElement("img",{src:"https://media.giphy.com/media/QMoXJjGPsmJ6Pdc596/giphy.gif",alt:"gifExito"}),o.a.createElement("h1",{style:{color:"#f53679",fontWeight:"bold"}},"Has adquirido el producto con exito"))}function C(){return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("img",{src:"https://media.giphy.com/media/nVTa8D8zJUc2A/giphy.gif",alt:"gifExito"}),o.a.createElement("h1",{style:{color:"#f53679",fontWeight:"bold"}},"No tienes suficiente dinero"))}a(56);N.a.setAppElement("#root");var T=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={filtroCategoria:"Todas",filtroCosto:"Todas",paginaActual:1,articulosPorPagina:16},e.setSelect=function(t){var a=t.target,n=a.value,o=a.name;e.setState(Object(l.a)({},o,n))},e.setPagina=function(t,a){if(parseInt(e.state.paginaActual)+parseInt(a)<1||parseInt(e.state.paginaActual)+parseInt(a)>Math.ceil(t/16))return null;e.setState({paginaActual:parseInt(e.state.paginaActual)+parseInt(a)})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.traerProductos()}},{key:"render",value:function(){var e=this,t=this.state,a=t.filtroCategoria,n=t.filtroCosto,r=t.paginaActual,i=t.articulosPorPagina,c=1!==this.props.state.productos.lenght?this.props.state.productos.filter((function(e){return e.category===("Todas"!==a?a:e.category)&&("Todas"===n?e.cost:"Economicos"===n?e.cost<=900:e.cost>=900)})):[],s=r*i,l=s-i,u=c.slice(l,s);return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("img",{src:P.a,alt:"bigHeroImg"})),o.a.createElement("div",{className:"Productos__contenedor"},o.a.createElement("div",{className:"Productos__contenedor--filtros"},o.a.createElement("div",{className:"Productos__contenedor--filtros-inputs"},o.a.createElement("p",null,"Filtros"),o.a.createElement("div",{className:"Productos__contenedor--filtros-inputs-casillas"},"Categorias:",o.a.createElement("select",{onChange:this.setSelect,name:"filtroCategoria"},o.a.createElement("option",{value:"Todas",label:"Todas"}),o.a.createElement("option",{value:"Phones",label:"Phones"}),o.a.createElement("option",{value:"Gaming",label:"Gaming"}),o.a.createElement("option",{value:"Tablets & E-readers",label:"Tablets & E-readers"}),o.a.createElement("option",{value:"Audio",label:"Audio"}),o.a.createElement("option",{value:"Monitors & TV",label:"Monitors & TV"}),o.a.createElement("option",{value:"Smart Home",label:"Smart Home"}),o.a.createElement("option",{value:"Phone Accessories",label:"Phone Accessories"}),o.a.createElement("option",{value:"PC Accessories",label:"PC Accessories"}),o.a.createElement("option",{value:"Cameras",label:"Cameras"}),o.a.createElement("option",{value:"Drones",label:"Drones"}))),o.a.createElement("div",{className:"Productos__contenedor--filtros-inputs-casillas"},"Costo",o.a.createElement("select",{onChange:this.setSelect,name:"filtroCosto"},o.a.createElement("option",{value:"Todas",label:"Todas"}),o.a.createElement("option",{value:"Economicos",label:"M\xe1s econ\xf3micos"}),o.a.createElement("option",{value:"Exclusivos",label:"Mas Exclusivos"})))),o.a.createElement("div",{className:"Productos__contenedor--filtros-ContolesPaginacion"},o.a.createElement("p",null,"P\xe1gina ",r," de",Math.ceil(c.length/i)),o.a.createElement("div",null,o.a.createElement("button",{className:"Productos__contenedor--filtros-ContolesPaginacion-button",value:-1,onClick:function(){e.setPagina(c.length,-1)}},"<"),o.a.createElement("button",{className:"Productos__contenedor--filtros-ContolesPaginacion-button",value:1,onClick:function(){e.setPagina(c.length,1)}},">")))),o.a.createElement("div",{className:"Productos__contenedor--productos"},u.map((function(t){return o.a.createElement(O,{key:Math.random(),puntosDisponibles:e.props.state.usuario.points,id:t._id,name:t.name,cost:t.cost,category:t.category,img:t.img.url,historia:!1})})))),o.a.createElement(N.a,{isOpen:""!==this.props.state.redencion,onRequestClose:function(){console.log(e.props.state)}},"error"===this.props.state.redencion?o.a.createElement(C,null):o.a.createElement(_,null),o.a.createElement("div",{className:"boton-modal--container"},o.a.createElement("button",{className:"boton-modal",onClick:function(){e.props.traerUsuario()}},"Ok"))))}}]),a}(n.Component),A={traerUsuario:g,traerProductos:h},R=Object(f.b)((function(e){return{state:e}}),A)(T),M=(a(57),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={paginaActual:1,articulosPorPagina:16},e.setPagina=function(t){var a=t.target.value;if(parseInt(e.state.paginaActual)+parseInt(a)<1||parseInt(e.state.paginaActual)+parseInt(a)>Math.ceil(e.props.state.historia.length/16))return null;e.setState({paginaActual:parseInt(e.state.paginaActual)+parseInt(a)})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.traerHistoria()}},{key:"render",value:function(){var e=this,t=this.state,a=t.paginaActual,n=t.articulosPorPagina,r=a*n,i=r-n,c=this.props.state.historia.reverse().slice(i,r);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Historia__contenedor--filtros-ContolesPaginacion"},o.a.createElement("h1",null,"Historial"),o.a.createElement("div",{className:"Productos__contenedor--filtros-ContolesPaginacion"},o.a.createElement("p",null,"P\xe1gina ",a," de"," ",Math.ceil(this.props.state.historia.length/n)),o.a.createElement("div",null,o.a.createElement("button",{className:"Productos__contenedor--filtros-ContolesPaginacion-button",value:-1,onClick:this.setPagina},"<"),o.a.createElement("button",{className:"Productos__contenedor--filtros-ContolesPaginacion-button",value:1,onClick:this.setPagina},">")))),o.a.createElement("div",{className:"Historia-container"},c.map((function(t){return o.a.createElement(O,{key:Math.random(),puntosDisponibles:e.props.state.usuario.points,id:t._id,name:t.name,cost:t.cost,category:t.category,img:t.img.url,historia:!0})}))))}}]),a}(n.Component)),J={traerHistoria:function(){return function(e){fetch("https://coding-challenge-api.aerolab.co/user/history",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjU1NjcxMDc0MjM1MjAwMWVkOTA5YTIiLCJpYXQiOjE1OTk0MzI0NjR9.yWntNtnRp4RYIy4HQ1zJ0f2enNVJSq2syLYPazrOH2s"}}).then((function(e){return e.json()})).then((function(t){e({type:"TRAER_HISTORIA",payload:t})}))}}},k=Object(f.b)((function(e){return{state:e}}),J)(M),x=a(32),U=a.n(x),z=a(33),S=a.n(z);a(58);function D(){return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}},o.a.createElement("img",{src:"https://media.giphy.com/media/xTiTnqUxyWbsAXq7Ju/giphy.gif",alt:"gifExito"}),o.a.createElement("h1",{style:{color:"#f53679",fontWeight:"bold"}},"La transacci\xf3n se completo exitosamente"))}N.a.setAppElement("#root");var H=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.traerUsuario()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Navegation__containder"},o.a.createElement("img",{src:U.a,alt:"logo"}),o.a.createElement("div",{className:"Navegation__containder--links"},o.a.createElement(c.b,{className:"Navegation__containder--links--enlaces",to:"/Tercer-proyecto/"},"Inicio"),o.a.createElement(c.b,{className:"Navegation__containder--links--enlaces",to:"/Tercer-proyecto/historia"},"Historial")),o.a.createElement("div",{className:"Navegation__containder--monedas"},o.a.createElement("p",null," Redimir Monedas: "),o.a.createElement("button",{onClick:function(){e.props.agregarMonedas(1e3)}}," ",o.a.createElement("img",{src:v.a,alt:"moneda"})," 1000"),o.a.createElement("button",{onClick:function(){e.props.agregarMonedas(5e3)}},o.a.createElement("img",{src:v.a,alt:"moneda"})," 5000"),o.a.createElement("button",{onClick:function(){e.props.agregarMonedas(7500)}},o.a.createElement("img",{src:v.a,alt:"moneda"})," 7500")),o.a.createElement("div",{className:"Navegation__containder--perfil"},o.a.createElement("img",{src:S.a,alt:"perfil"}),o.a.createElement("div",{className:"Navegation__containder--perfil--texto"},o.a.createElement("p",{className:"Navegation__containder--perfil--texto-nombre"},""!==this.props.state.usuario.name?this.props.state.usuario.name:""),o.a.createElement("p",{className:"Navegation__containder--perfil--texto-puntos"},o.a.createElement("img",{src:v.a,alt:"moneda-perfil"}),""!==this.props.state.usuario.points?this.props.state.usuario.points:""))),o.a.createElement(N.a,{isOpen:""!==this.props.state.nuevosPuntos},o.a.createElement(D,null),o.a.createElement("div",{className:"boton-modal--container"},o.a.createElement("button",{className:"boton-modal",onClick:function(){e.props.traerUsuario()}},"Ok"))))}}]),a}(n.Component),Y={traerUsuario:g,traerProductos:h,agregarMonedas:function(e){return function(t){fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjU1NjcxMDc0MjM1MjAwMWVkOTA5YTIiLCJpYXQiOjE1OTk0MzI0NjR9.yWntNtnRp4RYIy4HQ1zJ0f2enNVJSq2syLYPazrOH2s",Accept:"application/json"},body:JSON.stringify({amount:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),t({type:"AGREGAR_PUNTOS",payload:"agregados"})}))}}},W=Object(f.b)((function(e){return{state:e}}),Y)(H);function V(){return o.a.createElement("div",null,o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(W,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/Tercer-proyecto/",exact:!0,component:R}),o.a.createElement(s.a,{path:"/Tercer-proyecto/historia",component:k})))))}var Q=a(15),G=a(12),w={productos:[{name:"",cost:"",category:"",img:{url:""}}],usuario:{name:"",points:""},redencion:"",nuevosPuntos:"",historia:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TRAER_PRODUCTOS":return Object(G.a)({},e,{productos:n});case"TRAER_USUARIO":return Object(G.a)({},e,{usuario:n,redencion:"",nuevosPuntos:""});case"REDIMIR_PRODUCTO":return Object(G.a)({},e,{redencion:n});case"AGREGAR_PUNTOS":return Object(G.a)({},e,{nuevosPuntos:n});case"TRAER_HISTORIA":return Object(G.a)({},e,{historia:n});default:return e}},L=a(34),q=Object(Q.c)(X,Object(Q.a)(L.a));var B=function(){return o.a.createElement(f.a,{store:q},o.a.createElement("div",{className:"App"},o.a.createElement(V,null)))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3a676b2b.chunk.js.map